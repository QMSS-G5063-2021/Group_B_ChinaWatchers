group='Health') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_logs$amount),
group='Logistics') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_metals$amount),
group='Metals') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_other$amount),
group='Other') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_real$amount),
group='Real estate') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_tech$amount),
group='Technology') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_tour$amount),
group='Tourism') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_trans$amount),
group='Transport') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_util$amount),
group='Utilities')
content <- paste("Country Name:",df_china_invest$country,"<br/>")
map
# create plotting parameters for map
bins_indiv = c(100, 250, 500, 750, 1000, 1500, 2000, 3000, 5000)
rb_indiv <- brewer.pal(9, "Reds")
cv_pal_indiv <- colorBin(rb_indiv, bins = bins_indiv)
bins_all = c(100, 500, 1000, 1500, 2500, 4500, 7500, 10000, 25000)
rb_all <- brewer.pal(9, "Reds")
cv_pal_all <- colorBin(rb_all, bins = bins_all)
# mapping
map = basemap %>%
addLegend("bottomleft", pal = cv_pal_all, values = df_china_invest_grouped_all$amount, title = "<small>Investment Value (in millions)</small>", group = 'All') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_agri$amount, title = "<small>Investment Value (in millions)</small>", group = 'Agriculture') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_chem$amount, title = "<small>Investment Value (in millions)</small>", group = 'Chemicals') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_energy$amount, title = "<small>Investment Value (in millions)</small>", group = 'Energy') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_ent$amount, title = "<small>Investment Value (in millions)</small>", group = 'Entertainment') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_fin$amount, title = "<small>Investment Value (in millions)</small>", group = 'Finance') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_health$amount, title = "<small>Investment Value (in millions)</small>", group = 'Health') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_logs$amount, title = "<small>Investment Value (in millions)</small>", group = 'Logistics') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_metals$amount, title = "<small>Investment Value (in millions)</small>", group = 'Metals') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_other$amount, title = "<small>Investment Value (in millions)</small>", group = 'Other') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_real$amount, title = "<small>Investment Value (in millions)</small>", group = 'Real estate') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_tech$amount, title = "<small>Investment Value (in millions)</small>", group = 'Technology') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_tour$amount, title = "<small>Investment Value (in millions)</small>", group = 'Tourism') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_trans$amount, title = "<small>Investment Value (in millions)</small>", group = 'Transport') %>%
addLegend("bottomleft", pal = cv_pal_indiv, values = df_china_invest_grouped_util$amount, title = "<small>Investment Value (in millions)</small>", group = 'Utilities') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_all(df_china_invest_grouped_all$amount),
group='All') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_agri$amount),
group='Agriculture') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_chem$amount),
group='Chemicals') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_energy$amount),
group='Energy') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_ent$amount),
group='Entertainment') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_fin$amount),
group='Finance') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_health$amount),
group='Health') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_logs$amount),
group='Logistics') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_metals$amount),
group='Metals') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_other$amount),
group='Other') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_real$amount),
group='Real estate') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_tech$amount),
group='Technology') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_tour$amount),
group='Tourism') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_trans$amount),
group='Transport') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_util$amount),
group='Utilities')
content <- paste("Country Name:",df_china_invest$country,"<br/>")
map
# create plotting parameters for map
bins_indiv = c(100, 250, 500, 750, 1000, 1500, 2000, 3000, 5000)
rb_indiv <- brewer.pal(9, "Reds")
cv_pal_indiv <- colorBin(rb_indiv, bins = bins_indiv)
bins_all = c(100, 500, 1000, 1500, 2500, 4500, 7500, 10000, 25000)
rb_all <- brewer.pal(9, "Reds")
cv_pal_all <- colorBin(rb_all, bins = bins_all)
# mapping
map = basemap %>%
addLegend("bottomright", pal = cv_pal_all, values = df_china_invest_grouped_all$amount, title = "<small>Investment Value (in millions)</small>", group = 'All') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_agri$amount, title = "<small>Investment Value (in millions)</small>", group = 'Agriculture') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_chem$amount, title = "<small>Investment Value (in millions)</small>", group = 'Chemicals') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_energy$amount, title = "<small>Investment Value (in millions)</small>", group = 'Energy') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_ent$amount, title = "<small>Investment Value (in millions)</small>", group = 'Entertainment') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_fin$amount, title = "<small>Investment Value (in millions)</small>", group = 'Finance') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_health$amount, title = "<small>Investment Value (in millions)</small>", group = 'Health') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_logs$amount, title = "<small>Investment Value (in millions)</small>", group = 'Logistics') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_metals$amount, title = "<small>Investment Value (in millions)</small>", group = 'Metals') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_other$amount, title = "<small>Investment Value (in millions)</small>", group = 'Other') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_real$amount, title = "<small>Investment Value (in millions)</small>", group = 'Real estate') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_tech$amount, title = "<small>Investment Value (in millions)</small>", group = 'Technology') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_tour$amount, title = "<small>Investment Value (in millions)</small>", group = 'Tourism') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_trans$amount, title = "<small>Investment Value (in millions)</small>", group = 'Transport') %>%
addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_util$amount, title = "<small>Investment Value (in millions)</small>", group = 'Utilities') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_all(df_china_invest_grouped_all$amount),
group='All') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_agri$amount),
group='Agriculture') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_chem$amount),
group='Chemicals') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_energy$amount),
group='Energy') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_ent$amount),
group='Entertainment') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_fin$amount),
group='Finance') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_health$amount),
group='Health') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_logs$amount),
group='Logistics') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_metals$amount),
group='Metals') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_other$amount),
group='Other') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_real$amount),
group='Real estate') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_tech$amount),
group='Technology') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_tour$amount),
group='Tourism') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_trans$amount),
group='Transport') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_util$amount),
group='Utilities')
content <- paste("Country Name:",df_china_invest$country,"<br/>")
map
df_china_invest
worldcountry
# create plotting parameters for map
bins_indiv = c(100, 250, 500, 750, 1000, 1500, 2000, 3000, 5000)
rb_indiv <- brewer.pal(9, "Reds")
cv_pal_indiv <- colorBin(rb_indiv, bins = bins_indiv)
bins_all = c(100, 500, 1000, 1500, 2500, 4500, 7500, 10000, 25000)
rb_all <- brewer.pal(9, "Reds")
cv_pal_all <- colorBin(rb_all, bins = bins_all)
# mapping
map = basemap %>%
#addLegend("bottomright", pal = cv_pal_all, values = df_china_invest_grouped_all$amount, title = "<small>Investment Value (in millions)</small>", group = 'All') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_agri$amount, title = "<small>Investment Value (in millions)</small>", group = 'Agriculture') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_chem$amount, title = "<small>Investment Value (in millions)</small>", group = 'Chemicals') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_energy$amount, title = "<small>Investment Value (in millions)</small>", group = 'Energy') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_ent$amount, title = "<small>Investment Value (in millions)</small>", group = 'Entertainment') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_fin$amount, title = "<small>Investment Value (in millions)</small>", group = 'Finance') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_health$amount, title = "<small>Investment Value (in millions)</small>", group = 'Health') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_logs$amount, title = "<small>Investment Value (in millions)</small>", group = 'Logistics') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_metals$amount, title = "<small>Investment Value (in millions)</small>", group = 'Metals') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_other$amount, title = "<small>Investment Value (in millions)</small>", group = 'Other') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_real$amount, title = "<small>Investment Value (in millions)</small>", group = 'Real estate') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_tech$amount, title = "<small>Investment Value (in millions)</small>", group = 'Technology') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_tour$amount, title = "<small>Investment Value (in millions)</small>", group = 'Tourism') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_trans$amount, title = "<small>Investment Value (in millions)</small>", group = 'Transport') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_util$amount, title = "<small>Investment Value (in millions)</small>", group = 'Utilities') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_all(df_china_invest_grouped_all$amount),
group='All') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_agri$amount),
group='Agriculture') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_chem$amount),
group='Chemicals') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_energy$amount),
group='Energy') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_ent$amount),
group='Entertainment') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_fin$amount),
group='Finance') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_health$amount),
group='Health') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_logs$amount),
group='Logistics') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_metals$amount),
group='Metals') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_other$amount),
group='Other') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_real$amount),
group='Real estate') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_tech$amount),
group='Technology') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_tour$amount),
group='Tourism') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_trans$amount),
group='Transport') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_util$amount),
group='Utilities')
content <- paste("Country Name:",worldcountry$name,"<br/>")
map %>%
addCircles(popup=content)
worldcountry$name
worldcountry
# create plotting parameters for map
bins_indiv = c(100, 250, 500, 750, 1000, 1500, 2000, 3000, 5000)
rb_indiv <- brewer.pal(9, "Reds")
cv_pal_indiv <- colorBin(rb_indiv, bins = bins_indiv)
bins_all = c(100, 500, 1000, 1500, 2500, 4500, 7500, 10000, 25000)
rb_all <- brewer.pal(9, "Reds")
cv_pal_all <- colorBin(rb_all, bins = bins_all)
# mapping
map = basemap %>%
#addLegend("bottomright", pal = cv_pal_all, values = df_china_invest_grouped_all$amount, title = "<small>Investment Value (in millions)</small>", group = 'All') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_agri$amount, title = "<small>Investment Value (in millions)</small>", group = 'Agriculture') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_chem$amount, title = "<small>Investment Value (in millions)</small>", group = 'Chemicals') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_energy$amount, title = "<small>Investment Value (in millions)</small>", group = 'Energy') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_ent$amount, title = "<small>Investment Value (in millions)</small>", group = 'Entertainment') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_fin$amount, title = "<small>Investment Value (in millions)</small>", group = 'Finance') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_health$amount, title = "<small>Investment Value (in millions)</small>", group = 'Health') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_logs$amount, title = "<small>Investment Value (in millions)</small>", group = 'Logistics') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_metals$amount, title = "<small>Investment Value (in millions)</small>", group = 'Metals') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_other$amount, title = "<small>Investment Value (in millions)</small>", group = 'Other') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_real$amount, title = "<small>Investment Value (in millions)</small>", group = 'Real estate') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_tech$amount, title = "<small>Investment Value (in millions)</small>", group = 'Technology') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_tour$amount, title = "<small>Investment Value (in millions)</small>", group = 'Tourism') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_trans$amount, title = "<small>Investment Value (in millions)</small>", group = 'Transport') %>%
#addLegend("bottomright", pal = cv_pal_indiv, values = df_china_invest_grouped_util$amount, title = "<small>Investment Value (in millions)</small>", group = 'Utilities') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_all(df_china_invest_grouped_all$amount),
group='All') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_agri$amount),
group='Agriculture') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_chem$amount),
group='Chemicals') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_energy$amount),
group='Energy') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_ent$amount),
group='Entertainment') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_fin$amount),
group='Finance') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_health$amount),
group='Health') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_logs$amount),
group='Logistics') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_metals$amount),
group='Metals') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_other$amount),
group='Other') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_real$amount),
group='Real estate') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_tech$amount),
group='Technology') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_tour$amount),
group='Tourism') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_trans$amount),
group='Transport') %>%
addPolygons(stroke = FALSE,
smoothFactor = 0.1,
fillOpacity = 0.8,
fillColor = ~cv_pal_indiv(df_china_invest_grouped_util$amount),
group='Utilities')
map
df_china_invest
df_china_invest_grouped
datatable(df_china_invest_grouped)
pretty_headers <-
gsub("[_]", " ", colnames(df_china_invest_grouped)) %>%
str_to_title()
pretty_headers <-
gsub("[_]", " ", colnames(df_china_invest_grouped)) %>%
stringr::str_to_title()
datatable(df_china_invest_grouped,
colnames = pretty_headers)
df_china_invest
myvars <- colnames(tranposed_new) %in% c("United States", "China")
newdata <- tranposed_new[myvars]
datatable(newdata)
transposed <- as.data.frame(t(as.matrix(df))) #Transpose
#get the variables we want#
colnames(transposed) <- transposed[1,]
transposed$year <- rownames(transposed)
transposed <- transposed %>% #moving year to the first
select(year, everything())
tranposed_new <- transposed[!(rownames(transposed) %in% c('Country Name', 'Country Code')), ]
tranposed_new$`China` <- as.numeric(tranposed_new$`China`)
tranposed_new$`United States` <- as.numeric(tranposed_new$`United States`)
tranposed_new$`year` <- as.numeric(tranposed_new$`year`)
#write.csv(tranposed_new, 'countriesfdi_new.csv')
colors <- c("China" = "red", "United States" = "blue")
china_us_fdi <- ggplot(tranposed_new) +
geom_point(aes(x = `year`, y = `China`, color = "China")) +
geom_smooth(aes(x = `year`, y = `China`, color = "China"), method='loess', se = F) +
geom_point(aes(x = `year`, y = `United States`, color = "United States")) +
stat_smooth(aes(x = `year`, y = `United States`, color = "United States"), method='loess', se = F) +
ggthemes::theme_tufte() +
labs(
x = 'Year',
y = 'FDI Net Outflows (%GDP)',
title = 'US vs China FDI Outflows (as %GDP)',
color = "Legend"
) +
scale_color_manual(values = colors)
ggplotly(china_us_fdi, tooltip =c("x", "y"))
image_filepath <- file.path(getwd(), "image", "Front_Page_Image.jpg")
knitr::include_graphics(image_filepath)
image_filepath <- file.path(getwd(), "image", "Front_Page_Image.jpg")
knitr::include_graphics(image_filepath)
image_filepath <- file.path(getwd(), "image", "Front_Page_Image.jpg")
knitr::include_graphics(image_filepath)
image_filepath <- file.path(getwd(), "image", "Front_Page_Image.jpg")
knitr::include_graphics(image_filepath)
image_filepath <- file.path(getwd(), "image", "Front_Page_Image.jpg")
knitr::include_graphics(image_filepath)
image_filepath <- file.path(getwd(), "image", "Front_Page_Image.jpg")
knitr::include_graphics(image_filepath)
image_filepath <- file.path(getwd(), "image", "Front_Page_Image.jpg")
knitr::include_graphics(image_filepath)
image_filepath <- file.path(getwd(), "image", "Front_Page_Image.jpg")
knitr::include_graphics(image_filepath)
image_filepath <- file.path(getwd(), "image", "Front_Page_Image.jpg")
knitr::include_graphics(image_filepath)
image_filepath <- file.path(getwd(), "image", "Front_Page_Image.jpg")
image_filepath <- file.path(getwd(), "image", "Front_Page_Image.jpg")
